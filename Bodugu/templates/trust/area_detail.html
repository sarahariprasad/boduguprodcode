{% extends "base.html" %}
{% block title %}{{ area.title }} | MyWebsite{% endblock %}

{% block content %}
<div class="container" style="margin-top:40px;">

  <!-- ðŸ”¹ Banner / Area Image -->
  {% if area.banner_image %}
    <div class="banner-container" style="margin-bottom:30px;">
      <img src="{{ area.banner_image.url }}" alt="{{ area.title }}"
           class="img-responsive banner-img">
    </div>
  {% endif %}

  <!-- ðŸ”¹ Title & Description -->
  <h1 class="text-center" style="margin-bottom:20px;">{{ area.title }}</h1>
  <p class="lead text-justify">{{ area.description|safe }}</p>
  <hr>

  <!-- ðŸ”¹ Topics Section -->
  <h2 class="text-center" style="margin:40px 0 20px;">Topics under {{ area.title }}</h2>
  <div class="row">
    {% for topic in area.topics.all %}
      <div class="col-md-4 col-sm-6">
        <div class="card" style="margin-bottom:25px; border:1px solid #e6e6e6; border-radius:8px; overflow:hidden; transition:all 0.3s ease;">
          
          <!-- Topic Image -->
          {% if topic.banner_image %}
            <img src="{{ topic.banner_image.url }}" alt="{{ topic.title }}" 
                 class="img-responsive topic-img">
          {% endif %}

          <!-- Card Body -->
          <div class="card-body" style="padding:15px;">
            <h4 style="margin-top:0; font-size:18px; font-weight:600;">
              <a href="{{ topic.get_absolute_url }}" style="color:#007bff; text-decoration:none;">
                {{ topic.title }}
              </a>
            </h4>
            <p style="color:#555; font-size:14px;">
              {{ topic.short_description|truncatewords:20 }}
            </p>
            <a href="{{ topic.get_absolute_url }}" class="btn btn-primary btn-sm">Read More</a>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col-md-12">
        <p class="text-muted text-center">No topics available under this area yet.</p>
      </div>
    {% endfor %}
  </div>
</div>

<!-- ðŸ”¹ CSS Fix for Images -->
<style>
  /* Banner image (like About Us) */
  .banner-img {
    width: 100%;
    height: 400px;              /* fixed banner height */
    /*object-fit: cover;          /* crop instead of stretch */
    border-radius: 8px;
    margin-top: 40px;
  }

  @media (max-width: 768px) {
    .banner-img { height: 220px; }
  }
  @media (max-width: 480px) {
    .banner-img { height: 160px; }
  }

  /* Topic images inside cards */
  .topic-img {
    width: 100%;
    height: 200px;
    object-fit: cover;          /* keep proper aspect ratio */
  }
</style>
{% endblock %}